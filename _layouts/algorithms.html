<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Algorithms</title>

  <!-- <link href="style.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="./styles/monokai-sublime.css"> -->

  <link rel="stylesheet" href="{{ site.url }}/assets/css/algorithms/style.css">
  <link rel="stylesheet" href="{{ site.url }}/assets/css/algorithms/styles/monokai-sublime.css">

  <!-- <script src="highlight.pack.js"></script>
  <script src="../two.min.js"></script>
  <script src="../test.js"></script>
  <script src="main.js"></script> -->

  <script src="{{ site.url }}/assets/js/algorithms/highlight.pack.js"></script>
  <script src="{{ site.url }}/assets/js/algorithms/two.min.js"></script>
  <script src="{{ site.url }}/assets/js/algorithms/test.js"></script>
  <script src="{{ site.url }}/assets/js/algorithms/main.js"></script>
  <script src="{{ site.url }}/assets/js/algorithms/acorn_interpreter.js"></script>


  <!-- <script>
    var compressed = (document.location.search == '?compressed');
    if (compressed) {
        document.write('<scr'+'ipt src="acorn_interpreter.js"></scr'+'ipt>');
    } else {
        document.write('<scr'+'ipt src="acorn.js"></scr'+'ipt>');
        document.write('<scr'+'ipt src="interpreter.js"></scr'+'ipt>');
    }
    </script>     -->
</head>
<body>



    <div id="NW">
        <pre id="codeHighlightPre"><code id="codeHighlight" class="javascript"></code></pre>
        
        <textarea id="dataCodeArea">
data = [3, 2, 7, 3, 2, 1, 5, 7];
//pred = function(x) {return x % 2 == 0;};
rel = function(x, y) {
    return x &lt; y;
};
        </textarea>

        <textarea id="codeArea">
function min_element(f, l, r) {

    if (equal(f, l)) return l;
 
    //I m = f++;
    var m = copy_it(f, 'm', '#9000d8');
    f = successor(f);

    while ( ! equal(f, l)) {
        if (r(source(f), source(m))) {
            m = assign_it(m, f);
        }
        f = successor(f);
    }
    remove_it(m);
    return m;
}

var f = begin(data, "f");
var l = end(data, "l", "#d80500");

f = assign_it(f, min_element(f, l, rel));
if ( ! equal(f, l)) {
    print("The min element is: " + source(f));
}
        </textarea>
        
    </div>
    <div id="NE">
        <div id="sequence"></div>
    </div>
    <div id="SW">
        <div id="Buttons">
            <button id="startButton" onclick="startButton()">Start (Ctrl-F9)</button>
            <button id="stepButton" onclick="stepButton()" disabled="disabled">Step (Ctrl-F10)</button>
            <button id="editButton" onclick="editButton()">Edit</button>
            <!-- <button id="runButton" onclick="runButton()" disabled="disabled">Run</button> -->
        </div>​

        <div id="CopyrightDiv">
            <p id="Copyright">Copyright &copy; Fernando Pelliccioni 2016-2019. All Rights Reserved.</p>​
        </div>​
    </div>

    <div id="ME">
        <div id="MEW"></div>​
        <div id="MEE"></div>​
    </div>​
    
    <div id="SE">
        <!-- <hr /> -->
        <pre id="outputPre"><code id="output" class="javascript"></code></pre>
    </div>​

    <script>
            var elements;
            var lines = [];
            var prevLine = "";
            var myInterpreter;
            var iterators_int = {};
            var iterators_gui = {};
            var data = [];
            var pred;


            var stats_it_moves = 0;
            var stats_it_cmps = 0;
            var stats_pred_appls = 0;
            var stats_swaps = 0;
            var stats_assigments = 0;
    
            // var two = new Two({
            //         fullscreen: false,
            //         autostart: true
            // });
    
            var two = new Two({
                    fullscreen: false,
                    width: document.getElementById('sequence').offsetWidth,
                    height: 600,
                    autostart: true
            }).appendTo(sequence);
    
            // document.onkeypress = function (e) {
            //     e = e || window.event;
            //     console.log(e.keyCode)
            //     // // console.log(document.getElementById('stepButton').disabled);
            //     // if (e.keyCode == 13) {
            //     //     if (document.getElementById('stepButton').disabled) {
            //     //         startButton()
            //     //     }
            //     //     if ( ! document.getElementById('stepButton').disabled) {
            //     //         stepButton();
            //     //     }
            //     // }
            // }


            document.onkeydown = function (e) {
                e = e || window.event;
                    // console.log(e)
                // console.log(e.keyCode)

                if (e.ctrlKey && e.keyCode == 120) {
                    if (document.getElementById('stepButton').disabled) {
                        startButton()
                    }
                }

                if (e.ctrlKey && e.keyCode == 121) {
                    // if (document.getElementById('stepButton').disabled) {
                    //     startButton()
                    // }
                    if ( ! document.getElementById('stepButton').disabled) {
                        stepButton();
                    }
                }

            };        

        </script>      
</body>
</html>
